{"ast":null,"code":"import _createClass from\"@babel/runtime/helpers/createClass\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import firebase from\"firebase\";var Firebase=_createClass(function Firebase(){_classCallCheck(this,Firebase);this.getOrders=function(){return new Promise(function(resolve){firebase.database().ref('/orders/').once('value').then(function(snapshot){if(snapshot.val()){resolve(Object.values(snapshot.val()));}else{resolve({});}});});};this.storage=function(){return firebase.storage();};this.getRimiSenTitles=function(){return new Promise(function(resolve){firebase.database().ref('/rimiLyrics/').once('value').then(function(snapshot){if(snapshot.val()){resolve(Object.values(snapshot.val()));}else{resolve({});}});});};this.getReelOrderById=function(id){return new Promise(function(resolve){firebase.database().ref('/orders/'+id).once('value').then(function(snapshot){if(snapshot.val()){resolve(Object(snapshot.val()));}else{resolve({});}});});};this.updateSenTitle=function(update){return new Promise(function(resolve){firebase.database().ref(\"/rimis/\"+update.id+\"/\").update({senTitle:update.newSenTitle}).then(function(response){return new Promise(function(resolve){firebase.database().ref(\"/rimis/\"+update.id+\"/updates/\"+update.updateId).remove().then(function(){resolve(true);}).catch(function(error){console.log(\"error\",error);});}).then(function(response){resolve(true);}).catch(function(error){console.log(\"error\",error);});}).catch(function(error){console.log(\"error\",error);});});};this.sendForApproval=function(item){return new Promise(function(resolve){firebase.database().ref('/rimis/'+item.id+'/updates/'+item.updateId+'/').set(item).then(function(response){console.log(\"response\",response);resolve(true);}).catch(function(error){console.log(\"error\",error);});});};this.updateVideoSnippetURL=function(orderId,snippetVideoURL){return new Promise(function(resolve){firebase.database().ref('/orders/'+orderId+'/').update({snippetVideoURL:snippetVideoURL}).then(function(response){console.log(\"response\",response);resolve(true);}).catch(function(error){console.log(\"error\",error);});});};this.createbhukyskitchenOrder=function(reel){return new Promise(function(resolve){firebase.database().ref('/orders/'+reel.id+'/').set({id:reel.id,emailAddress:reel.emailAddress,igname:reel.igname,firstName:reel.firstName,lastName:reel.lastName,reelPurpose:reel.reelPurpose,reelDuration:reel.reelDuration,reelSampleLink:reel.reelSampleLink,dueDateSelected:reel.dueDateSelected,selectedLevelOption:reel.selectedLevelOption,orderAudioURL:reel.orderAudioURL,statusValue:0,snippetVideoURL:\"\"}).then(function(response){console.log(\"response\",response);resolve(true);}).catch(function(error){console.log(\"error\",error);});});};});export default new Firebase();","map":{"version":3,"names":["firebase","Firebase","getOrders","Promise","resolve","database","ref","once","then","snapshot","val","Object","values","storage","getRimiSenTitles","getReelOrderById","id","updateSenTitle","update","senTitle","newSenTitle","response","updateId","remove","catch","error","console","log","sendForApproval","item","set","updateVideoSnippetURL","orderId","snippetVideoURL","createbhukyskitchenOrder","reel","emailAddress","igname","firstName","lastName","reelPurpose","reelDuration","reelSampleLink","dueDateSelected","selectedLevelOption","orderAudioURL","statusValue"],"sources":["/Users/jdavid/Documents/bhukyskitchen/src/firebase/firebase.js"],"sourcesContent":["import firebase from \"firebase\";\n\nclass Firebase {\n  getOrders = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/orders/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  storage = () => {\n    return firebase.storage()\n  }\n\n  getRimiSenTitles = () =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/rimiLyrics/')\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object.values(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  getReelOrderById = (id) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/orders/'+id)\n      .once('value')\n      .then(snapshot => {\n        if (snapshot.val()){\n          resolve(Object(snapshot.val()))\n        }else{\n          resolve({})\n        }\n      })\n    })\n  }\n\n  updateSenTitle = (update) =>{\n    return new Promise(resolve => {\n      firebase.database()\n      .ref(`/rimis/${update.id}/`)\n      .update(\n        {\n          senTitle: update.newSenTitle,\n        },\n      )\n      .then((response) => {\n        return new Promise(resolve => {\n          firebase.database()\n          .ref(`/rimis/${update.id}/updates/${update.updateId}`)\n          .remove()\n          .then(() => {\n            resolve(true)\n          }).catch( (error) =>{\n            console.log(\"error\", error)\n          })\n        })\n        .then((response) => {\n          resolve(true)\n        })\n        .catch(error => {\n          console.log(\"error\", error)\n        })\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n\n  }\n\n  sendForApproval = (item) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/rimis/'+item.id+'/updates/' + item.updateId + '/')\n      .set(item)\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n  updateVideoSnippetURL = (orderId, snippetVideoURL) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/orders/' + orderId + '/')\n      .update({snippetVideoURL})\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n\n  createbhukyskitchenOrder = (reel) => {\n    return new Promise(resolve => {\n      firebase.database()\n      .ref('/orders/' + reel.id + '/')\n      .set(\n        {\n          id: reel.id,\n          emailAddress: reel.emailAddress,\n          igname: reel.igname,\n          firstName: reel.firstName,\n          lastName: reel.lastName,\n          reelPurpose: reel.reelPurpose,\n          reelDuration: reel.reelDuration,\n          reelSampleLink: reel.reelSampleLink,\n          dueDateSelected: reel.dueDateSelected,\n          selectedLevelOption: reel.selectedLevelOption,\n          orderAudioURL: reel.orderAudioURL,\n          statusValue: 0,\n          snippetVideoURL: \"\",\n        }\n      )\n      .then((response) => {\n        console.log(\"response\", response)\n        resolve(true)\n      })\n      .catch(error => {\n        console.log(\"error\", error)\n      })\n    })\n  }\n}\n\nexport default new Firebase();\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}